p8105_hw2_jer2243
================
Juliet Rowe
2023-09-27

# Problem 1

## Load tidyverse

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.2     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.2     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.1     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(dplyr)
```

## Import and Clean pols-month Data

``` r
month_df = 
  tibble(
    month_num = 1:12,
    month_abb = month.abb,
    month = month.name
  )

pols = 
  read_csv("fivethirtyeight_datasets/pols-month.csv") |>
  separate(mon, into = c("year", "month_num", "day"), convert = TRUE) |>
  mutate(
    president = recode(prez_gop, "0" = "dem", "1" = "gop", "2" = "gop")) |>
  left_join(x = _, y = month_df) |> 
  select(year, month, everything(), -day, -starts_with("prez")) 
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
    ## Joining with `by = join_by(month_num)`

## Import and clean snp dataset

``` r
snp = 
  read_csv("fivethirtyeight_datasets/snp.csv") |>
  separate(date, into = c("month", "day", "year"), convert = TRUE) |>
  arrange(year, month) |>
  mutate(month = month.name[month]) |>
  select(year, month, close) 
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## Import and clean the unemployment dataset

``` r
unemployment = 
  read_csv("fivethirtyeight_datasets/unemployment.csv") |>
  rename(year = Year) |>
  pivot_longer(
    Jan:Dec, 
    names_to = "month_abb",
    values_to = "unemployment"
  ) |> 
  left_join(x = _, y = month_df) |> 
  select(year, month, unemployment)
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
    ## Joining with `by = join_by(month_abb)`

## Joining datasets

``` r
data_538 = 
  left_join(pols, snp) |>
  left_join(x = _, y = unemployment)
```

    ## Joining with `by = join_by(year, month)`
    ## Joining with `by = join_by(year, month)`

``` r
str(data_538)
```

    ## tibble [822 × 13] (S3: tbl_df/tbl/data.frame)
    ##  $ year        : num [1:822] 1947 1947 1947 1947 1947 ...
    ##  $ month       : chr [1:822] "January" "February" "March" "April" ...
    ##  $ month_num   : int [1:822] 1 2 3 4 5 6 7 8 9 10 ...
    ##  $ gov_gop     : num [1:822] 23 23 23 23 23 23 23 23 23 23 ...
    ##  $ sen_gop     : num [1:822] 51 51 51 51 51 51 51 51 51 51 ...
    ##  $ rep_gop     : num [1:822] 253 253 253 253 253 253 253 253 253 253 ...
    ##  $ gov_dem     : num [1:822] 23 23 23 23 23 23 23 23 23 23 ...
    ##  $ sen_dem     : num [1:822] 45 45 45 45 45 45 45 45 45 45 ...
    ##  $ rep_dem     : num [1:822] 198 198 198 198 198 198 198 198 198 198 ...
    ##  $ president   : chr [1:822] "dem" "dem" "dem" "dem" ...
    ##  $ month_abb   : chr [1:822] "Jan" "Feb" "Mar" "Apr" ...
    ##  $ close       : num [1:822] NA NA NA NA NA NA NA NA NA NA ...
    ##  $ unemployment: num [1:822] NA NA NA NA NA NA NA NA NA NA ...

The `pols` data has 822 observations and 11 variables and tells us about
the party affiliation distribution (democrat or republican) for
governors and senators for a given year from years 1947 to 2015. It also
tells us whether the sitting president was a democrat or republican. The
`snp` data has 787 observations and 3 variables, ranging from years 0 to
99. The `unemployment` data has 816 observations and 3 variables ranging
from years 1948 to 2015. In Januarys in or after 1975 in which a
democrat was president, the **average unemployment rate was 6.57**. The
average unemployment rate over the same time period in which a
republican was president was 6.47.

# Problem 2

## Import and clean Mr. Trash Wheel Data

``` r
library(readxl)
mr_trashwheel_data = read_excel("~/Desktop/p8105_hw2_jer2243/202309 Trash Wheel Collection Data.xlsx", sheet=1, range="A2:N587") |>
  janitor::clean_names()

mr_trashwheel_data_tidy = mr_trashwheel_data |>
  mutate(homes_powered = (weight_tons*500/30),
         trashwheel = 1,
         year = as.numeric(year))
```

## Import and clean Professor Trash Wheel Data

``` r
library(readxl)
prof_trashwheel_data = read_excel("~/Desktop/p8105_hw2_jer2243/202309 Trash Wheel Collection Data.xlsx", sheet=2, range="A2:M109") |>
  janitor::clean_names()

prof_trashwheel_data |>
  mutate(homes_powered = (weight_tons*500/30),
         trashwheel = 2)
```

    ## # A tibble: 107 × 14
    ##    dumpster month     year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr>    <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 January   2017 2017-01-02 00:00:00        1.79                 15
    ##  2        2 January   2017 2017-01-30 00:00:00        1.58                 15
    ##  3        3 February  2017 2017-02-26 00:00:00        2.32                 18
    ##  4        4 February  2017 2017-02-26 00:00:00        3.72                 15
    ##  5        5 February  2017 2017-02-28 00:00:00        1.45                 15
    ##  6        6 March     2017 2017-03-30 00:00:00        1.71                 15
    ##  7        7 April     2017 2017-04-01 00:00:00        1.82                 15
    ##  8        8 April     2017 2017-04-20 00:00:00        2.37                 15
    ##  9        9 May       2017 2017-05-10 00:00:00        2.64                 15
    ## 10       10 May       2017 2017-05-26 00:00:00        2.78                 15
    ## # ℹ 97 more rows
    ## # ℹ 8 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, homes_powered <dbl>, trashwheel <dbl>

## Import and clean Gwynnda data

``` r
library(readxl)
gwynnda_data = read_excel("~/Desktop/p8105_hw2_jer2243/202309 Trash Wheel Collection Data.xlsx", sheet=4, range="A2:L159") |>
  janitor::clean_names()

gwynnda_data |>
  mutate(homes_powered = (weight_tons*500/30),
         trashwheel=3)
```

    ## # A tibble: 157 × 13
    ##    dumpster month   year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr>  <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 July    2021 2021-07-03 00:00:00        0.93                 15
    ##  2        2 July    2021 2021-07-07 00:00:00        2.26                 15
    ##  3        3 July    2021 2021-07-07 00:00:00        1.62                 15
    ##  4        4 July    2021 2021-07-16 00:00:00        1.76                 15
    ##  5        5 July    2021 2021-07-30 00:00:00        1.53                 15
    ##  6        6 August  2021 2021-08-11 00:00:00        2.06                 15
    ##  7        7 August  2021 2021-08-14 00:00:00        1.9                  15
    ##  8        8 August  2021 2021-08-16 00:00:00        2.16                 15
    ##  9        9 August  2021 2021-08-16 00:00:00        2.6                  15
    ## 10       10 August  2021 2021-08-17 00:00:00        3.21                 15
    ## # ℹ 147 more rows
    ## # ℹ 7 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, plastic_bags <dbl>, wrappers <dbl>,
    ## #   homes_powered <dbl>, trashwheel <dbl>

## Join the 3 trashwheel datasets

``` r
trashwheel_data =
  bind_rows(mr_trashwheel_data_tidy, prof_trashwheel_data, gwynnda_data) |>
  janitor::clean_names()

glimpse(trashwheel_data)
```

    ## Rows: 849
    ## Columns: 15
    ## $ dumpster           <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, …
    ## $ month              <chr> "May", "May", "May", "May", "May", "May", "May", "M…
    ## $ year               <dbl> 2014, 2014, 2014, 2014, 2014, 2014, 2014, 2014, 201…
    ## $ date               <dttm> 2014-05-16, 2014-05-16, 2014-05-16, 2014-05-17, 20…
    ## $ weight_tons        <dbl> 4.31, 2.74, 3.45, 3.10, 4.06, 2.71, 1.91, 3.70, 2.5…
    ## $ volume_cubic_yards <dbl> 18, 13, 15, 15, 18, 13, 8, 16, 14, 18, 15, 19, 15, …
    ## $ plastic_bottles    <dbl> 1450, 1120, 2450, 2380, 980, 1430, 910, 3580, 2400,…
    ## $ polystyrene        <dbl> 1820, 1030, 3100, 2730, 870, 2140, 1090, 4310, 2790…
    ## $ cigarette_butts    <dbl> 126000, 91000, 105000, 100000, 120000, 90000, 56000…
    ## $ glass_bottles      <dbl> 72, 42, 50, 52, 72, 46, 32, 58, 49, 75, 38, 45, 58,…
    ## $ plastic_bags       <dbl> 584, 496, 1080, 896, 368, 672, 416, 1552, 984, 448,…
    ## $ wrappers           <dbl> 1162, 874, 2032, 1971, 753, 1144, 692, 3015, 1988, …
    ## $ sports_balls       <dbl> 7.2, 5.2, 6.0, 6.0, 7.2, 5.2, 3.2, 6.4, 5.6, 7.2, 6…
    ## $ homes_powered      <dbl> 71.83333, 45.66667, 57.50000, 51.66667, 67.66667, 4…
    ## $ trashwheel         <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …

The `trashwheel_data` data has 849 observations and 15 variables…….

## Total weight of trash collected by Prof Trashwheel is 432.52.

## Total number of cigarette butts collected by Gwynnda in 2021 is 1.63^{4}

# Problem 3

## Import and clean MCI baseline data

``` r
MCI_baseline = read_csv("data_mci/mci_baseline.csv") |>
  janitor::clean_names()
```

    ## New names:
    ## Rows: 484 Columns: 6
    ## ── Column specification
    ## ──────────────────────────────────────────────────────── Delimiter: "," chr
    ## (6): ...1, Age at the study baseline, 1 = Male, 0 = Female, Years of edu...
    ## ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
    ## Specify the column types or set `show_col_types = FALSE` to quiet this message.
    ## • `` -> `...1`

``` r
MCI_baseline_final <- subset(MCI_baseline, 
                       age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period >= age_at_the_study_baseline | age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period == ".")

names(MCI_baseline_final)[names(MCI_baseline_final) == "x1"] <- "study_id"
```

The `MCI_baseline_final` data has 480 observations and 6 variables…….
This means that 480 participants were recruited.

Of these participants, 94 developed MCI.

The average age at the study baseline is …..

## Import and clean MCI amyloid data

``` r
MCI_amyloid = read_csv("data_mci/mci_amyloid.csv") |>
  janitor::clean_names()
```

    ## New names:
    ## Rows: 488 Columns: 6
    ## ── Column specification
    ## ──────────────────────────────────────────────────────── Delimiter: "," chr
    ## (6): Study ID, Time (in years) elapsed since the study baseline to the v...
    ## ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
    ## Specify the column types or set `show_col_types = FALSE` to quiet this message.
    ## • `NA` -> `NA...3`
    ## • `NA` -> `NA...4`
    ## • `NA` -> `NA...5`
    ## • `NA` -> `NA...6`

DATA DESCRIPTION Yes, some participants only appear in the cleaned
amyloid dataset and not hte cleaned baseline dataset, as the amyloid
dataset has 488 observations and the baseline only has 480.

## Join baseline and amyloid data

``` r
joined_data = 
  inner_join(MCI_baseline_final, MCI_amyloid, by = "study_id")
```
