p8105_hw2_jer2243
================
Juliet Rowe
2023-09-27

\#Problem 1

## Load tidyverse

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.2     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.2     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.1     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(dplyr)
```

## Import and Clean pols-month Data

``` r
pols_df =
  read_csv("fivethirtyeight_datasets/pols-month.csv") |>
  separate(mon, into=c("year", "month", "day"), sep="-") |>
  mutate(
    month = replace(month, month=="01", "January"),
    month = replace(month, month=="02", "February"),
    month = replace(month, month=="03", "March"),
    month = replace(month, month=="04", "April"),
    month = replace(month, month=="05", "May"),
    month = replace(month, month=="06", "June"),
    month = replace(month, month=="07", "July"),
    month = replace(month, month=="08", "August"),
    month = replace(month, month=="09", "September"),
    month = replace(month, month=="10", "October"),
    month = replace(month, month=="11", "November"),
    month = replace(month, month=="12", "December"),
    president = case_when(prez_dem == "1" ~ 'dem',
                          prez_gop == "1" ~ 'gop')) |>
select(-prez_dem, -prez_gop, -day)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
pols_df
```

    ## # A tibble: 822 × 9
    ##    year  month     gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 1947  January        23      51     253      23      45     198 dem      
    ##  2 1947  February       23      51     253      23      45     198 dem      
    ##  3 1947  March          23      51     253      23      45     198 dem      
    ##  4 1947  April          23      51     253      23      45     198 dem      
    ##  5 1947  May            23      51     253      23      45     198 dem      
    ##  6 1947  June           23      51     253      23      45     198 dem      
    ##  7 1947  July           23      51     253      23      45     198 dem      
    ##  8 1947  August         23      51     253      23      45     198 dem      
    ##  9 1947  September      23      51     253      23      45     198 dem      
    ## 10 1947  October        23      51     253      23      45     198 dem      
    ## # ℹ 812 more rows

\#Import and clean snp dataset

``` r
snp_df =
  read_csv("fivethirtyeight_datasets/snp.csv") |>
  separate(date, into=c("year", "month", "day"), sep="/") |>
  mutate(
    month = replace(month, month=="1", "January"),
    month = replace(month, month=="2", "February"),
    month = replace(month, month=="3", "March"),
    month = replace(month, month=="4", "April"),
    month = replace(month, month=="5", "May"),
    month = replace(month, month=="6", "June"),
    month = replace(month, month=="7", "July"),
    month = replace(month, month=="8", "August"),
    month = replace(month, month=="9", "September"),
    month = replace(month, month=="10", "October"),
    month = replace(month, month=="11", "November"),
    month = replace(month, month=="12", "December"))
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp_df
```

    ## # A tibble: 787 × 4
    ##    year  month    day   close
    ##    <chr> <chr>    <chr> <dbl>
    ##  1 7     January  15    2080.
    ##  2 6     January  15    2063.
    ##  3 5     January  15    2107.
    ##  4 4     January  15    2086.
    ##  5 3     February 15    2068.
    ##  6 2     February 15    2104.
    ##  7 1     February 15    1995.
    ##  8 12    January  14    2059.
    ##  9 11    March    14    2068.
    ## 10 10    January  14    2018.
    ## # ℹ 777 more rows

\#Import and clean the unemployment dataset

``` r
unemployment_df =
  read_csv("fivethirtyeight_datasets/unemployment.csv")
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
unemployment_tidy_data =
  pivot_longer(
    unemployment_df,
    cols = starts_with("Jan") : starts_with("Dec"),
    names_to = "month",
    values_to = "value") |>
  mutate(month=recode(month,
                      Jan = "January",
                      Feb = "February",
                      Mar = "March",
                      Apr = "April",
                      May = "May",
                      Jun = "June",
                      Jul = "July",
                      Aug = "August",
                      Sep = "September",
                      Oct = "October",
                      Nov = "November",
                      Dec = "December"))

unemployment_df
```

    ## # A tibble: 68 × 13
    ##     Year   Jan   Feb   Mar   Apr   May   Jun   Jul   Aug   Sep   Oct   Nov   Dec
    ##    <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>
    ##  1  1948   3.4   3.8   4     3.9   3.5   3.6   3.6   3.9   3.8   3.7   3.8   4  
    ##  2  1949   4.3   4.7   5     5.3   6.1   6.2   6.7   6.8   6.6   7.9   6.4   6.6
    ##  3  1950   6.5   6.4   6.3   5.8   5.5   5.4   5     4.5   4.4   4.2   4.2   4.3
    ##  4  1951   3.7   3.4   3.4   3.1   3     3.2   3.1   3.1   3.3   3.5   3.5   3.1
    ##  5  1952   3.2   3.1   2.9   2.9   3     3     3.2   3.4   3.1   3     2.8   2.7
    ##  6  1953   2.9   2.6   2.6   2.7   2.5   2.5   2.6   2.7   2.9   3.1   3.5   4.5
    ##  7  1954   4.9   5.2   5.7   5.9   5.9   5.6   5.8   6     6.1   5.7   5.3   5  
    ##  8  1955   4.9   4.7   4.6   4.7   4.3   4.2   4     4.2   4.1   4.3   4.2   4.2
    ##  9  1956   4     3.9   4.2   4     4.3   4.3   4.4   4.1   3.9   3.9   4.3   4.2
    ## 10  1957   4.2   3.9   3.7   3.9   4.1   4.3   4.2   4.1   4.4   4.5   5.1   5.2
    ## # ℹ 58 more rows

\#Problem 2

\##Import and clean Mr. Trash Wheel Data

``` r
library(readxl)
mr_trashwheel_data = read_excel("~/Desktop/p8105_hw2_jer2243/202207 Trash Wheel Collection Data.xlsx", sheet=1, range="A2:N550")

mr_trashwheel_data |>
  mutate(homes_powered = (`Weight (tons)`*500/30))
```

    ## # A tibble: 548 × 15
    ##    Dumpster Month Year  Date                `Weight (tons)`
    ##       <dbl> <chr> <chr> <dttm>                        <dbl>
    ##  1        1 May   2014  2014-05-16 00:00:00            4.31
    ##  2        2 May   2014  2014-05-16 00:00:00            2.74
    ##  3        3 May   2014  2014-05-16 00:00:00            3.45
    ##  4        4 May   2014  2014-05-17 00:00:00            3.1 
    ##  5        5 May   2014  2014-05-17 00:00:00            4.06
    ##  6        6 May   2014  2014-05-20 00:00:00            2.71
    ##  7        7 May   2014  2014-05-21 00:00:00            1.91
    ##  8        8 May   2014  2014-05-28 00:00:00            3.7 
    ##  9        9 June  2014  2014-06-05 00:00:00            2.52
    ## 10       10 June  2014  2014-06-11 00:00:00            3.76
    ## # ℹ 538 more rows
    ## # ℹ 10 more variables: `Volume (cubic yards)` <dbl>, `Plastic Bottles` <dbl>,
    ## #   Polystyrene <dbl>, `Cigarette Butts` <dbl>, `Glass Bottles` <dbl>,
    ## #   `Grocery Bags` <dbl>, `Chip Bags` <dbl>, `Sports Balls` <dbl>,
    ## #   `Homes Powered*` <dbl>, homes_powered <dbl>

\##Import and clean Professor Trash Wheel Data

``` r
library(readxl)
prof_trashwheel_data = read_excel("~/Desktop/p8105_hw2_jer2243/202207 Trash Wheel Collection Data.xlsx", sheet=2, range="A2:M97")

prof_trashwheel_data |>
  mutate(homes_powered = (`Weight (tons)`*500/30))
```

    ## # A tibble: 95 × 14
    ##    Dumpster Month     Year Date                `Weight (tons)`
    ##       <dbl> <chr>    <dbl> <dttm>                        <dbl>
    ##  1        1 January   2017 2017-01-02 00:00:00            1.79
    ##  2        2 January   2017 2017-01-30 00:00:00            1.58
    ##  3        3 February  2017 2017-02-26 00:00:00            2.32
    ##  4        4 February  2017 2017-02-26 00:00:00            3.72
    ##  5        5 February  2017 2017-02-28 00:00:00            1.45
    ##  6        6 March     2017 2017-03-30 00:00:00            1.71
    ##  7        7 April     2017 2017-04-01 00:00:00            1.82
    ##  8        8 April     2017 2017-04-20 00:00:00            2.37
    ##  9        9 May       2017 2017-05-10 00:00:00            2.64
    ## 10       10 May       2017 2017-05-26 00:00:00            2.78
    ## # ℹ 85 more rows
    ## # ℹ 9 more variables: `Volume (cubic yards)` <dbl>, `Plastic Bottles` <dbl>,
    ## #   Polystyrene <dbl>, `Cigarette Butts` <dbl>, `Glass Bottles` <dbl>,
    ## #   `Grocery Bags` <dbl>, `Chip Bags` <dbl>, `Homes Powered*` <dbl>,
    ## #   homes_powered <dbl>

\##Import and clean Gwynnda data

``` r
library(readxl)
gwynnda_data = read_excel("~/Desktop/p8105_hw2_jer2243/202207 Trash Wheel Collection Data.xlsx", sheet=3, range="A2:K110")

gwynnda_data |>
  mutate(homes_powered = (`Weight (tons)`*500/30))
```

    ## # A tibble: 108 × 12
    ##    Dumpster Month     Year Date                `Weight (tons)`
    ##       <dbl> <chr>    <dbl> <dttm>                        <dbl>
    ##  1        1 June      2018 2018-06-30 00:00:00            0.96
    ##  2        2 July      2018 2018-07-19 00:00:00            1.47
    ##  3        3 July      2018 2018-07-23 00:00:00            3.19
    ##  4        4 August    2018 2018-08-08 00:00:00            1.11
    ##  5        5 October   2018 2018-10-15 00:00:00            1.44
    ##  6        6 December  2018 2018-12-14 00:00:00            0.66
    ##  7        7 March     2019 2019-03-07 00:00:00            0.98
    ##  8        8 April     2019 2019-04-24 00:00:00            1.8 
    ##  9        9 May       2019 2019-05-31 00:00:00            2.17
    ## 10       10 August    2019 2019-08-08 00:00:00            1.21
    ## # ℹ 98 more rows
    ## # ℹ 7 more variables: `Volume (cubic yards)` <dbl>, `Plastic Bottles` <dbl>,
    ## #   Polystyrene <dbl>, `Cigarette Butts` <dbl>, `Plastic Bags` <dbl>,
    ## #   `Homes Powered*` <dbl>, homes_powered <dbl>
